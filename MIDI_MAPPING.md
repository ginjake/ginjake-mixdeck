# MIDI ボタンマッピング仕様 - lovelive9キーボード専用

## 基本情報
- **対応デバイス**: lovelive9キーボード（QMK firmware）のみ
- **DDJ400は無視**: DDJ400が接続されていても使用しない
- Status = 176 (0xb0) : Control Change
- Data2 = 127 : ボタン押下
- Data2 = 0 : ボタンリリース
- **明示されているもの以外は、Data2 = 0（リリース）をトリガーとして発動**

## ボタンマッピング

### プレイリスト・動画制御
- **Data1=1** : 操作対象プレイリストの切り替え (Data2=0で発動)
- **Data1=2** : 前の動画へ (Data2=0で発動)
- **Data1=3** : 動画を15秒前に移動 (Data2=0で発動)
- **Data1=4** : 1秒巻き戻し
  - Data2=127（押下）: 巻き戻し開始（1秒/100ms間隔）
  - Data2=0（リリース）: 巻き戻し停止
  - **他のボタン操作時**: 全プレイリストの巻き戻し停止
- **Data1=5** : 再生/停止トグル (Data2=0で発動)
- **Data1=6** : 3秒早送り
  - Data2=127（押下）: 早送り開始（3秒/100ms間隔）
  - Data2=0（リリース）: 早送り停止
  - **他のボタン操作時**: 全プレイリストの早送り停止
- **Data1=7** : 動画を15秒後に移動 (Data2=0で発動)
- **Data1=8** : 次の動画へ (Data2=0で発動)

### ブレンド制御
- **Data1=9** : ブレンド値を0（左端）に設定 (Data2=0で発動)
- **Data1=10** : ブレンド値を左に移動
  - Data2=127（押下）: 左移動開始
  - Data2=0（リリース）: 移動停止
- **Data1=11** : ブレンド値移動量3倍モード
  - Data2=127（押下）: Data1=10,12の移動量を3倍に
  - Data2=0（リリース）: 3倍モード解除
- **Data1=12** : ブレンド値を右に移動
  - Data2=127（押下）: 右移動開始
  - Data2=0（リリース）: 移動停止
- **Data1=13** : ブレンド値を100（右端）に設定 (Data2=0で発動)

### 特殊機能
- **Data1=14** : 未割り当て
- **Data1=15** : Mix無効モード (Data2=0で発動)
  - ブレンド値によるミキシングを無効化
  - プレイリスト1の上にプレイリスト2を重ね合わせ表示
  - 透過PNG合成用機能
  - ブレンドバーをグレー表示に変更

### リセット機能
- **Data1=98** : 動画操作リセット (Data2=0で発動)
  - 早送り・巻き戻しを停止
  - 動画操作関係をリセット
- **Data1=99** : ブレンド操作リセット (Data2=0で発動)
  - ブレンド値操作を停止
  - ブレンド移動量を通常に戻す
  - ブレンド操作関係をリセット

## 注意事項
1. Data1=4, 6, 10, 11, 12 以外のボタン操作時は、連続操作に関係するもののみ停止
2. ブレンド値移動量は通常0.02、3倍モード時は0.06
3. 巻き戻し速度は1秒/100ms間隔、早送り速度は3秒/100ms間隔
4. 透過PNG画像に対応
5. Mix無効モード時はブレンド値操作は無効